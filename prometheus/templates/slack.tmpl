{{/* Slack alert title */}}
{{ define "slack.title" -}}
[{{ .Status | toUpper }}{{if eq .Status "firing"}}:{{ .Alerts.Firing | len }}{{end}}]
{{ if eq .Status "firing" -}}
  {{- if eq .CommonLabels.severity "critical" }}üî•
  {{- else if eq .CommonLabels.severity "warning" }}‚ö†Ô∏è
  {{- else }}‚ÑπÔ∏è
  {{- end }}
{{- else -}}
  ‚úÖ
{{- end }}
{{ .CommonLabels.alertname }}
{{- end }}

{{/* Slack attachment color */}}
{{ define "slack.color" -}}
{{- if eq .Status "firing" -}}
  {{- if eq .CommonLabels.severity "critical" -}}
    danger
  {{- else if eq .CommonLabels.severity "warning" -}}
    warning
  {{- else -}}
    #439FE0
  {{- end -}}
{{- else -}}
  good
{{- end -}}
{{- end }}

{{/* Slack icon emoji */}}
{{ define "slack.icon_emoji" -}}
:alert:
{{- end }}

{{/* Main alert text */}}
{{ define "slack.text" -}}
{{- range .Alerts -}}
*Alert Details:*
{{- if .Annotations.summary }}
‚Ä¢ *Summary:* {{ .Annotations.summary }}
{{- end }}
{{- if .Annotations.description }}
‚Ä¢ *Description:* {{ .Annotations.description }}
{{- end }}

*Additional Information:*
‚Ä¢ *Network:* {{ .Labels.network }}
‚Ä¢ *Publisher:* {{ .Labels.publisher }}
‚Ä¢ *Severity:* {{ .Labels.severity | toUpper }}
‚Ä¢ *Type:* {{ .Labels.type }}
‚Ä¢ *Started:* {{ .StartsAt | since }}

{{- if .Labels.pair }}
‚Ä¢ *Trading Pair:* {{ .Labels.pair }}
{{- end }}
---
{{ end }}
{{- end }}
